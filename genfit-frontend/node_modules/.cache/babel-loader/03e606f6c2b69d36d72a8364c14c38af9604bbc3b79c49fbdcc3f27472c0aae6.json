{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:8080';\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Interceptor to add the Authorization header from localStorage\napiClient.interceptors.request.use(config => {\n  const authDataString = localStorage.getItem('genfitAuth');\n  if (authDataString) {\n    try {\n      const authData = JSON.parse(authDataString);\n      if (authData && authData.token) {\n        config.headers.Authorization = `Basic ${authData.token}`;\n      }\n    } catch (e) {\n      console.error(\"Error parsing auth data from localStorage\", e);\n      // Optionally, clear the invalid item\n      // localStorage.removeItem('genfitAuth');\n    }\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// --- User Management --- Authenticated user uses /me, admin uses /admin/users/:username (not implemented here yet)\n\n// GET /users/me (Get your profile)\nexport const getMyProfile = () => apiClient.get('/users/me');\n\n// PUT /users/me (Update your profile)\nexport const updateMyProfile = profileData => apiClient.put('/users/me', profileData);\n\n// DELETE /users/me (Delete your account)\nexport const deleteMyAccount = () => apiClient.delete('/users/me');\n\n// POST /users (Create User - Public, but not part of the logged-in user flow defined for this UI)\n// export const createUser = (userData) => apiClient.post('/users', userData);\n\n// --- Progress Tracking --- All require auth\n\n// GET /progress/me (Get your progress)\nexport const getMyProgress = params => apiClient.get('/progress/me', {\n  params\n}); // params: metric_types[], start_date, end_date, limit, sort_order\n\n// POST /progress (Log progress)\nexport const logProgress = progressData => apiClient.post('/progress', progressData);\n\n// GET /progress/me/summary (Get your progress summary)\nexport const getMyProgressSummary = () => apiClient.get('/progress/me/summary');\n\n// GET /progress/me/trend (Get your progress trend)\nexport const getMyProgressTrend = params => apiClient.get('/progress/me/trend', {\n  params\n}); // params: metric_types[]\n\n// DELETE /progress (Delete progress entry)\nexport const deleteProgressEntry = entryId => apiClient.delete('/progress', {\n  params: {\n    entryId\n  }\n});\n\n// --- Workout Plan Management --- All require auth\n\n// GET /workout/me (Get your workout plan)\nexport const getMyWorkoutPlan = () => apiClient.get('/workout/me');\n\n// POST /workout/manual (Create workout plan - backend has /workout/manual, UI implies updating existing via PUT /workout/me)\n// For simplicity, we'll assume a plan exists or is created, and /workout/me (PUT) handles its update.\n// If a user has no plan, getMyWorkoutPlan might return 404, then UI could prompt to create or use PUT to set one.\nexport const createWorkoutPlan = planData => apiClient.post('/workout/manual', planData);\n\n// PUT /workout/me (Update your workout plan)\nexport const updateMyWorkoutPlan = planData => apiClient.put('/workout/me', planData);\n\n// DELETE /workout/me (Delete your workout plan)\nexport const deleteMyWorkoutPlan = () => apiClient.delete('/workout/me');\n\n// --- Exercise Management (Admin & Public Search) ---\n\n// GET /exercises/search (Public search for exercises)\nexport const searchExercises = query => apiClient.get('/exercises/search', {\n  params: {\n    query\n  }\n});\n\n// Admin exercise functions (not used by regular user UI directly based on requirements, but good to list if API supports)\n// POST /admin/exercises\n// GET /admin/exercises\n// GET /admin/exercises/{id}\n// PUT /admin/exercises/{id}\n// DELETE /admin/exercises/{id}\n\nexport default apiClient;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","apiClient","create","baseURL","headers","interceptors","request","use","config","authDataString","localStorage","getItem","authData","JSON","parse","token","Authorization","e","console","error","Promise","reject","getMyProfile","get","updateMyProfile","profileData","put","deleteMyAccount","delete","getMyProgress","params","logProgress","progressData","post","getMyProgressSummary","getMyProgressTrend","deleteProgressEntry","entryId","getMyWorkoutPlan","createWorkoutPlan","planData","updateMyWorkoutPlan","deleteMyWorkoutPlan","searchExercises","query"],"sources":["/Users/ishannigam/Code/Example/Genfit/genfit-frontend/src/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:8080';\n\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Interceptor to add the Authorization header from localStorage\napiClient.interceptors.request.use(\n  (config) => {\n    const authDataString = localStorage.getItem('genfitAuth');\n    if (authDataString) {\n      try {\n        const authData = JSON.parse(authDataString);\n        if (authData && authData.token) {\n          config.headers.Authorization = `Basic ${authData.token}`;\n        }\n      } catch (e) {\n        console.error(\"Error parsing auth data from localStorage\", e);\n        // Optionally, clear the invalid item\n        // localStorage.removeItem('genfitAuth');\n      }\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// --- User Management --- Authenticated user uses /me, admin uses /admin/users/:username (not implemented here yet)\n\n// GET /users/me (Get your profile)\nexport const getMyProfile = () => apiClient.get('/users/me');\n\n// PUT /users/me (Update your profile)\nexport const updateMyProfile = (profileData) => apiClient.put('/users/me', profileData);\n\n// DELETE /users/me (Delete your account)\nexport const deleteMyAccount = () => apiClient.delete('/users/me');\n\n// POST /users (Create User - Public, but not part of the logged-in user flow defined for this UI)\n// export const createUser = (userData) => apiClient.post('/users', userData);\n\n\n// --- Progress Tracking --- All require auth\n\n// GET /progress/me (Get your progress)\nexport const getMyProgress = (params) => apiClient.get('/progress/me', { params }); // params: metric_types[], start_date, end_date, limit, sort_order\n\n// POST /progress (Log progress)\nexport const logProgress = (progressData) => apiClient.post('/progress', progressData);\n\n// GET /progress/me/summary (Get your progress summary)\nexport const getMyProgressSummary = () => apiClient.get('/progress/me/summary');\n\n// GET /progress/me/trend (Get your progress trend)\nexport const getMyProgressTrend = (params) => apiClient.get('/progress/me/trend', { params }); // params: metric_types[]\n\n// DELETE /progress (Delete progress entry)\nexport const deleteProgressEntry = (entryId) => apiClient.delete('/progress', { params: { entryId } });\n\n\n// --- Workout Plan Management --- All require auth\n\n// GET /workout/me (Get your workout plan)\nexport const getMyWorkoutPlan = () => apiClient.get('/workout/me');\n\n// POST /workout/manual (Create workout plan - backend has /workout/manual, UI implies updating existing via PUT /workout/me)\n// For simplicity, we'll assume a plan exists or is created, and /workout/me (PUT) handles its update.\n// If a user has no plan, getMyWorkoutPlan might return 404, then UI could prompt to create or use PUT to set one.\nexport const createWorkoutPlan = (planData) => apiClient.post('/workout/manual', planData);\n\n// PUT /workout/me (Update your workout plan)\nexport const updateMyWorkoutPlan = (planData) => apiClient.put('/workout/me', planData);\n\n// DELETE /workout/me (Delete your workout plan)\nexport const deleteMyWorkoutPlan = () => apiClient.delete('/workout/me');\n\n\n// --- Exercise Management (Admin & Public Search) ---\n\n// GET /exercises/search (Public search for exercises)\nexport const searchExercises = (query) => apiClient.get('/exercises/search', { params: { query } });\n\n// Admin exercise functions (not used by regular user UI directly based on requirements, but good to list if API supports)\n// POST /admin/exercises\n// GET /admin/exercises\n// GET /admin/exercises/{id}\n// PUT /admin/exercises/{id}\n// DELETE /admin/exercises/{id}\n\nexport default apiClient; "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,IAAI,uBAAuB;AAElF,MAAMC,SAAS,GAAGL,KAAK,CAACM,MAAM,CAAC;EAC7BC,OAAO,EAAEN,YAAY;EACrBO,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACAH,SAAS,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC/BC,MAAM,IAAK;EACV,MAAMC,cAAc,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;EACzD,IAAIF,cAAc,EAAE;IAClB,IAAI;MACF,MAAMG,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACL,cAAc,CAAC;MAC3C,IAAIG,QAAQ,IAAIA,QAAQ,CAACG,KAAK,EAAE;QAC9BP,MAAM,CAACJ,OAAO,CAACY,aAAa,GAAG,SAASJ,QAAQ,CAACG,KAAK,EAAE;MAC1D;IACF,CAAC,CAAC,OAAOE,CAAC,EAAE;MACVC,OAAO,CAACC,KAAK,CAAC,2CAA2C,EAAEF,CAAC,CAAC;MAC7D;MACA;IACF;EACF;EACA,OAAOT,MAAM;AACf,CAAC,EACAW,KAAK,IAAK;EACT,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;;AAEA;AACA,OAAO,MAAMG,YAAY,GAAGA,CAAA,KAAMrB,SAAS,CAACsB,GAAG,CAAC,WAAW,CAAC;;AAE5D;AACA,OAAO,MAAMC,eAAe,GAAIC,WAAW,IAAKxB,SAAS,CAACyB,GAAG,CAAC,WAAW,EAAED,WAAW,CAAC;;AAEvF;AACA,OAAO,MAAME,eAAe,GAAGA,CAAA,KAAM1B,SAAS,CAAC2B,MAAM,CAAC,WAAW,CAAC;;AAElE;AACA;;AAGA;;AAEA;AACA,OAAO,MAAMC,aAAa,GAAIC,MAAM,IAAK7B,SAAS,CAACsB,GAAG,CAAC,cAAc,EAAE;EAAEO;AAAO,CAAC,CAAC,CAAC,CAAC;;AAEpF;AACA,OAAO,MAAMC,WAAW,GAAIC,YAAY,IAAK/B,SAAS,CAACgC,IAAI,CAAC,WAAW,EAAED,YAAY,CAAC;;AAEtF;AACA,OAAO,MAAME,oBAAoB,GAAGA,CAAA,KAAMjC,SAAS,CAACsB,GAAG,CAAC,sBAAsB,CAAC;;AAE/E;AACA,OAAO,MAAMY,kBAAkB,GAAIL,MAAM,IAAK7B,SAAS,CAACsB,GAAG,CAAC,oBAAoB,EAAE;EAAEO;AAAO,CAAC,CAAC,CAAC,CAAC;;AAE/F;AACA,OAAO,MAAMM,mBAAmB,GAAIC,OAAO,IAAKpC,SAAS,CAAC2B,MAAM,CAAC,WAAW,EAAE;EAAEE,MAAM,EAAE;IAAEO;EAAQ;AAAE,CAAC,CAAC;;AAGtG;;AAEA;AACA,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAMrC,SAAS,CAACsB,GAAG,CAAC,aAAa,CAAC;;AAElE;AACA;AACA;AACA,OAAO,MAAMgB,iBAAiB,GAAIC,QAAQ,IAAKvC,SAAS,CAACgC,IAAI,CAAC,iBAAiB,EAAEO,QAAQ,CAAC;;AAE1F;AACA,OAAO,MAAMC,mBAAmB,GAAID,QAAQ,IAAKvC,SAAS,CAACyB,GAAG,CAAC,aAAa,EAAEc,QAAQ,CAAC;;AAEvF;AACA,OAAO,MAAME,mBAAmB,GAAGA,CAAA,KAAMzC,SAAS,CAAC2B,MAAM,CAAC,aAAa,CAAC;;AAGxE;;AAEA;AACA,OAAO,MAAMe,eAAe,GAAIC,KAAK,IAAK3C,SAAS,CAACsB,GAAG,CAAC,mBAAmB,EAAE;EAAEO,MAAM,EAAE;IAAEc;EAAM;AAAE,CAAC,CAAC;;AAEnG;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe3C,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}