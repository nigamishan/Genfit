{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nimport dayjs from 'dayjs';\nimport { getMyProgress, logProgress, deleteProgressEntry, getMyProgressSummary, getMyProgressTrend, getWorkoutVolume } from '../api';\nimport { DEFAULT_FILTERS, METRIC_TYPES } from '../constants/progressConstants';\nimport { createEmptyProgressEntry, validateProgressEntry, getMetricUnit } from '../utils/progressUtils';\n\n/**\n * Custom hook for managing progress data and operations\n */\nexport const useProgress = () => {\n  _s();\n  // Progress data state\n  const [progressEntries, setProgressEntries] = useState([]);\n  const [summary, setSummary] = useState(null);\n  const [trends, setTrends] = useState(null);\n  const [workoutVolume, setWorkoutVolume] = useState(null);\n\n  // UI state\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  // Form and filter state\n  const [filters, setFilters] = useState(DEFAULT_FILTERS);\n  const [newEntry, setNewEntry] = useState(createEmptyProgressEntry(METRIC_TYPES.WEIGHT));\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [deleteConfirm, setDeleteConfirm] = useState({\n    open: false,\n    entryId: null\n  });\n\n  // Fetch progress entries with filters\n  const fetchProgressData = useCallback(async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const params = new URLSearchParams();\n\n      // Add metric types as array parameters\n      if (filters.metric_types.length > 0) {\n        filters.metric_types.forEach(type => {\n          params.append('metric_types[]', type);\n        });\n      }\n\n      // Add other filter parameters\n      if (filters.start_date) {\n        params.append('start_date', filters.start_date.toISOString());\n      }\n      if (filters.end_date) {\n        params.append('end_date', filters.end_date.toISOString());\n      }\n      params.append('sort_order', filters.sort_order);\n      params.append('limit', filters.limit);\n      const {\n        data\n      } = await getMyProgress(params);\n      setProgressEntries(data.entries || []);\n    } catch (err) {\n      var _err$response, _err$response$data, _err$response2;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to fetch progress entries.');\n      if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 401) {\n        // Handle authentication error\n        localStorage.removeItem('genfitAuth');\n        window.location.href = '/login';\n      }\n    }\n    setLoading(false);\n  }, [filters]);\n\n  // Fetch progress summary\n  const fetchSummary = useCallback(async () => {\n    try {\n      const params = new URLSearchParams();\n\n      // Add metric types as array parameters for summary\n      if (filters.metric_types.length > 0) {\n        filters.metric_types.forEach(type => {\n          params.append('metric_types[]', type);\n        });\n      }\n      const {\n        data\n      } = await getMyProgressSummary(params);\n      setSummary(data.summary || {});\n    } catch (err) {\n      var _err$response3, _err$response3$data, _err$response4;\n      console.error(\"Failed to fetch summary:\", ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || err.message);\n      if (((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : _err$response4.status) === 401) {\n        localStorage.removeItem('genfitAuth');\n        window.location.href = '/login';\n      }\n    }\n  }, [filters.metric_types]);\n\n  // Fetch progress trends\n  const fetchTrends = useCallback(async () => {\n    try {\n      const params = new URLSearchParams();\n\n      // Add metric types as array parameters for trends\n      const metricTypes = filters.metric_types.length > 0 ? filters.metric_types : Object.values(METRIC_TYPES);\n      metricTypes.forEach(type => {\n        params.append('metric_types[]', type);\n      });\n      const {\n        data\n      } = await getMyProgressTrend(params);\n      setTrends(data.trends || {});\n    } catch (err) {\n      var _err$response5, _err$response5$data, _err$response6;\n      console.error(\"Failed to fetch trends:\", ((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.message) || err.message);\n      if (((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : _err$response6.status) === 401) {\n        localStorage.removeItem('genfitAuth');\n        window.location.href = '/login';\n      }\n    }\n  }, [filters.metric_types]);\n\n  // Fetch workout volume data\n  const fetchWorkoutVolume = useCallback(async () => {\n    try {\n      const {\n        data\n      } = await getWorkoutVolume();\n      setWorkoutVolume(data);\n    } catch (err) {\n      var _err$response7, _err$response7$data, _err$response8;\n      console.error(\"Failed to fetch workout volume:\", ((_err$response7 = err.response) === null || _err$response7 === void 0 ? void 0 : (_err$response7$data = _err$response7.data) === null || _err$response7$data === void 0 ? void 0 : _err$response7$data.message) || err.message);\n      if (((_err$response8 = err.response) === null || _err$response8 === void 0 ? void 0 : _err$response8.status) === 401) {\n        localStorage.removeItem('genfitAuth');\n        window.location.href = '/login';\n      }\n    }\n  }, []);\n\n  // Initial data fetch\n  useEffect(() => {\n    fetchProgressData();\n    fetchSummary();\n    fetchTrends();\n    fetchWorkoutVolume();\n  }, [fetchProgressData, fetchSummary, fetchTrends, fetchWorkoutVolume]);\n\n  // Auto-apply filters when they change (except on initial load)\n  useEffect(() => {\n    // Skip on initial load when all filters are default\n    const isInitialState = filters.metric_types.length === 0 && !filters.start_date && !filters.end_date && filters.sort_order === 'desc';\n    if (!isInitialState) {\n      fetchProgressData();\n      fetchTrends();\n    }\n  }, [filters, fetchProgressData, fetchTrends]);\n\n  // Filter handlers\n  const handleFilterChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFilters(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleDateChange = (name, date) => {\n    setFilters(prev => ({\n      ...prev,\n      [name]: date\n    }));\n  };\n  const applyFilters = () => {\n    // Force a re-fetch by triggering the useEffect dependency\n    setLoading(true);\n    // Use a small delay to ensure state is updated\n    setTimeout(() => {\n      fetchProgressData();\n      fetchTrends();\n    }, 50);\n  };\n  const resetFilters = () => {\n    setFilters(DEFAULT_FILTERS);\n  };\n\n  // Form handlers\n  const handleNewEntryChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    let updatedEntry = {\n      ...newEntry,\n      [name]: value\n    };\n\n    // Update unit when metric type changes\n    if (name === 'metric_type') {\n      updatedEntry.unit = getMetricUnit(value);\n    }\n    setNewEntry(updatedEntry);\n  };\n  const handleNewEntryDateChange = date => {\n    setNewEntry(prev => ({\n      ...prev,\n      recorded_at: date\n    }));\n  };\n  const toggleAddForm = () => {\n    setShowAddForm(!showAddForm);\n    if (!showAddForm) {\n      // Reset form when opening\n      setNewEntry(createEmptyProgressEntry(METRIC_TYPES.WEIGHT));\n      setError('');\n      setSuccess('');\n    }\n  };\n\n  // CRUD operations\n  const addProgressEntry = async e => {\n    e.preventDefault();\n\n    // Validate entry\n    const validation = validateProgressEntry(newEntry);\n    if (!validation.isValid) {\n      setError(validation.error);\n      return;\n    }\n    setSubmitting(true);\n    setError('');\n    setSuccess('');\n    try {\n      const payload = {\n        ...newEntry,\n        value: parseFloat(newEntry.value),\n        recorded_at: newEntry.recorded_at.toISOString()\n      };\n      await logProgress(payload);\n      setSuccess('Progress entry added successfully!');\n      setShowAddForm(false);\n      setNewEntry(createEmptyProgressEntry(METRIC_TYPES.WEIGHT));\n\n      // Refresh all data\n      await Promise.all([fetchProgressData(), fetchSummary(), fetchTrends()]);\n    } catch (err) {\n      var _err$response9, _err$response9$data, _err$response0;\n      setError(((_err$response9 = err.response) === null || _err$response9 === void 0 ? void 0 : (_err$response9$data = _err$response9.data) === null || _err$response9$data === void 0 ? void 0 : _err$response9$data.message) || 'Failed to add progress entry.');\n      if (((_err$response0 = err.response) === null || _err$response0 === void 0 ? void 0 : _err$response0.status) === 401) {\n        localStorage.removeItem('genfitAuth');\n        window.location.href = '/login';\n      }\n    }\n    setSubmitting(false);\n  };\n  const openDeleteConfirm = entryId => {\n    setDeleteConfirm({\n      open: true,\n      entryId\n    });\n  };\n  const closeDeleteConfirm = () => {\n    setDeleteConfirm({\n      open: false,\n      entryId: null\n    });\n  };\n  const deleteEntry = async () => {\n    if (!deleteConfirm.entryId) return;\n    setSubmitting(true);\n    setError('');\n    setSuccess('');\n    try {\n      await deleteProgressEntry(deleteConfirm.entryId);\n      setSuccess('Progress entry deleted successfully!');\n\n      // Refresh all data\n      await Promise.all([fetchProgressData(), fetchSummary(), fetchTrends()]);\n    } catch (err) {\n      var _err$response1, _err$response1$data, _err$response10;\n      setError(((_err$response1 = err.response) === null || _err$response1 === void 0 ? void 0 : (_err$response1$data = _err$response1.data) === null || _err$response1$data === void 0 ? void 0 : _err$response1$data.message) || 'Failed to delete progress entry.');\n      if (((_err$response10 = err.response) === null || _err$response10 === void 0 ? void 0 : _err$response10.status) === 401) {\n        localStorage.removeItem('genfitAuth');\n        window.location.href = '/login';\n      }\n    }\n    closeDeleteConfirm();\n    setSubmitting(false);\n  };\n\n  // Clear messages\n  const clearMessages = () => {\n    setError('');\n    setSuccess('');\n  };\n  return {\n    // Data\n    progressEntries,\n    summary,\n    trends,\n    workoutVolume,\n    // UI State\n    loading,\n    submitting,\n    error,\n    success,\n    // Form State\n    filters,\n    newEntry,\n    showAddForm,\n    deleteConfirm,\n    // Handlers\n    handleFilterChange,\n    handleDateChange,\n    applyFilters,\n    resetFilters,\n    handleNewEntryChange,\n    handleNewEntryDateChange,\n    toggleAddForm,\n    addProgressEntry,\n    openDeleteConfirm,\n    closeDeleteConfirm,\n    deleteEntry,\n    clearMessages,\n    // Manual refresh functions\n    refreshData: () => {\n      fetchProgressData();\n      fetchSummary();\n      fetchTrends();\n      fetchWorkoutVolume();\n    },\n    refreshProgressData: fetchProgressData,\n    refreshSummary: fetchSummary,\n    refreshTrends: fetchTrends,\n    refreshWorkoutVolume: fetchWorkoutVolume\n  };\n};\n_s(useProgress, \"+dlpO10zwU2XjD8oJ8L9Nc38hJw=\");","map":{"version":3,"names":["useState","useEffect","useCallback","dayjs","getMyProgress","logProgress","deleteProgressEntry","getMyProgressSummary","getMyProgressTrend","getWorkoutVolume","DEFAULT_FILTERS","METRIC_TYPES","createEmptyProgressEntry","validateProgressEntry","getMetricUnit","useProgress","_s","progressEntries","setProgressEntries","summary","setSummary","trends","setTrends","workoutVolume","setWorkoutVolume","loading","setLoading","submitting","setSubmitting","error","setError","success","setSuccess","filters","setFilters","newEntry","setNewEntry","WEIGHT","showAddForm","setShowAddForm","deleteConfirm","setDeleteConfirm","open","entryId","fetchProgressData","params","URLSearchParams","metric_types","length","forEach","type","append","start_date","toISOString","end_date","sort_order","limit","data","entries","err","_err$response","_err$response$data","_err$response2","response","message","status","localStorage","removeItem","window","location","href","fetchSummary","_err$response3","_err$response3$data","_err$response4","console","fetchTrends","metricTypes","Object","values","_err$response5","_err$response5$data","_err$response6","fetchWorkoutVolume","_err$response7","_err$response7$data","_err$response8","isInitialState","handleFilterChange","e","name","value","target","prev","handleDateChange","date","applyFilters","setTimeout","resetFilters","handleNewEntryChange","updatedEntry","unit","handleNewEntryDateChange","recorded_at","toggleAddForm","addProgressEntry","preventDefault","validation","isValid","payload","parseFloat","Promise","all","_err$response9","_err$response9$data","_err$response0","openDeleteConfirm","closeDeleteConfirm","deleteEntry","_err$response1","_err$response1$data","_err$response10","clearMessages","refreshData","refreshProgressData","refreshSummary","refreshTrends","refreshWorkoutVolume"],"sources":["/Users/ishannigam/Code/Example/Genfit/genfit-frontend/src/hooks/useProgress.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport dayjs from 'dayjs';\nimport { \n  getMyProgress, \n  logProgress, \n  deleteProgressEntry, \n  getMyProgressSummary, \n  getMyProgressTrend,\n  getWorkoutVolume \n} from '../api';\nimport { \n  DEFAULT_FILTERS, \n  METRIC_TYPES \n} from '../constants/progressConstants';\nimport { \n  createEmptyProgressEntry, \n  validateProgressEntry,\n  getMetricUnit \n} from '../utils/progressUtils';\n\n/**\n * Custom hook for managing progress data and operations\n */\nexport const useProgress = () => {\n  // Progress data state\n  const [progressEntries, setProgressEntries] = useState([]);\n  const [summary, setSummary] = useState(null);\n  const [trends, setTrends] = useState(null);\n  const [workoutVolume, setWorkoutVolume] = useState(null);\n  \n  // UI state\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  \n  // Form and filter state\n  const [filters, setFilters] = useState(DEFAULT_FILTERS);\n  const [newEntry, setNewEntry] = useState(createEmptyProgressEntry(METRIC_TYPES.WEIGHT));\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [deleteConfirm, setDeleteConfirm] = useState({ open: false, entryId: null });\n\n  // Fetch progress entries with filters\n  const fetchProgressData = useCallback(async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const params = new URLSearchParams();\n      \n      // Add metric types as array parameters\n      if (filters.metric_types.length > 0) {\n        filters.metric_types.forEach(type => {\n          params.append('metric_types[]', type);\n        });\n      }\n      \n      // Add other filter parameters\n      if (filters.start_date) {\n        params.append('start_date', filters.start_date.toISOString());\n      }\n      if (filters.end_date) {\n        params.append('end_date', filters.end_date.toISOString());\n      }\n      params.append('sort_order', filters.sort_order);\n      params.append('limit', filters.limit);\n      \n      const { data } = await getMyProgress(params);\n      setProgressEntries(data.entries || []);\n    } catch (err) {\n      setError(err.response?.data?.message || 'Failed to fetch progress entries.');\n      if (err.response?.status === 401) {\n        // Handle authentication error\n        localStorage.removeItem('genfitAuth');\n        window.location.href = '/login';\n      }\n    }\n    setLoading(false);\n  }, [filters]);\n\n  // Fetch progress summary\n  const fetchSummary = useCallback(async () => {\n    try {\n      const params = new URLSearchParams();\n      \n      // Add metric types as array parameters for summary\n      if (filters.metric_types.length > 0) {\n        filters.metric_types.forEach(type => {\n          params.append('metric_types[]', type);\n        });\n      }\n      \n      const { data } = await getMyProgressSummary(params);\n      setSummary(data.summary || {});\n    } catch (err) {\n      console.error(\"Failed to fetch summary:\", err.response?.data?.message || err.message);\n      if (err.response?.status === 401) {\n        localStorage.removeItem('genfitAuth');\n        window.location.href = '/login';\n      }\n    }\n  }, [filters.metric_types]);\n\n  // Fetch progress trends\n  const fetchTrends = useCallback(async () => {\n    try {\n      const params = new URLSearchParams();\n      \n      // Add metric types as array parameters for trends\n      const metricTypes = filters.metric_types.length > 0 \n        ? filters.metric_types \n        : Object.values(METRIC_TYPES);\n      \n      metricTypes.forEach(type => {\n        params.append('metric_types[]', type);\n      });\n      \n      const { data } = await getMyProgressTrend(params);\n      setTrends(data.trends || {});\n    } catch (err) {\n      console.error(\"Failed to fetch trends:\", err.response?.data?.message || err.message);\n      if (err.response?.status === 401) {\n        localStorage.removeItem('genfitAuth');\n        window.location.href = '/login';\n      }\n    }\n  }, [filters.metric_types]);\n\n  // Fetch workout volume data\n  const fetchWorkoutVolume = useCallback(async () => {\n    try {\n      const { data } = await getWorkoutVolume();\n      setWorkoutVolume(data);\n    } catch (err) {\n      console.error(\"Failed to fetch workout volume:\", err.response?.data?.message || err.message);\n      if (err.response?.status === 401) {\n        localStorage.removeItem('genfitAuth');\n        window.location.href = '/login';\n      }\n    }\n  }, []);\n\n  // Initial data fetch\n  useEffect(() => {\n    fetchProgressData();\n    fetchSummary();\n    fetchTrends();\n    fetchWorkoutVolume();\n  }, [fetchProgressData, fetchSummary, fetchTrends, fetchWorkoutVolume]);\n\n  // Auto-apply filters when they change (except on initial load)\n  useEffect(() => {\n    // Skip on initial load when all filters are default\n    const isInitialState = \n      filters.metric_types.length === 0 && \n      !filters.start_date && \n      !filters.end_date && \n      filters.sort_order === 'desc';\n    \n    if (!isInitialState) {\n      fetchProgressData();\n      fetchTrends();\n    }\n  }, [filters, fetchProgressData, fetchTrends]);\n\n  // Filter handlers\n  const handleFilterChange = (e) => {\n    const { name, value } = e.target;\n    setFilters(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleDateChange = (name, date) => {\n    setFilters(prev => ({ ...prev, [name]: date }));\n  };\n\n  const applyFilters = () => {\n    // Force a re-fetch by triggering the useEffect dependency\n    setLoading(true);\n    // Use a small delay to ensure state is updated\n    setTimeout(() => {\n      fetchProgressData();\n      fetchTrends();\n    }, 50);\n  };\n\n  const resetFilters = () => {\n    setFilters(DEFAULT_FILTERS);\n  };\n\n  // Form handlers\n  const handleNewEntryChange = (e) => {\n    const { name, value } = e.target;\n    let updatedEntry = { ...newEntry, [name]: value };\n    \n    // Update unit when metric type changes\n    if (name === 'metric_type') {\n      updatedEntry.unit = getMetricUnit(value);\n    }\n    \n    setNewEntry(updatedEntry);\n  };\n\n  const handleNewEntryDateChange = (date) => {\n    setNewEntry(prev => ({ ...prev, recorded_at: date }));\n  };\n\n  const toggleAddForm = () => {\n    setShowAddForm(!showAddForm);\n    if (!showAddForm) {\n      // Reset form when opening\n      setNewEntry(createEmptyProgressEntry(METRIC_TYPES.WEIGHT));\n      setError('');\n      setSuccess('');\n    }\n  };\n\n  // CRUD operations\n  const addProgressEntry = async (e) => {\n    e.preventDefault();\n    \n    // Validate entry\n    const validation = validateProgressEntry(newEntry);\n    if (!validation.isValid) {\n      setError(validation.error);\n      return;\n    }\n\n    setSubmitting(true);\n    setError('');\n    setSuccess('');\n    \n    try {\n      const payload = {\n        ...newEntry,\n        value: parseFloat(newEntry.value),\n        recorded_at: newEntry.recorded_at.toISOString(),\n      };\n      \n      await logProgress(payload);\n      setSuccess('Progress entry added successfully!');\n      setShowAddForm(false);\n      setNewEntry(createEmptyProgressEntry(METRIC_TYPES.WEIGHT));\n      \n      // Refresh all data\n      await Promise.all([\n        fetchProgressData(),\n        fetchSummary(),\n        fetchTrends()\n      ]);\n    } catch (err) {\n      setError(err.response?.data?.message || 'Failed to add progress entry.');\n      if (err.response?.status === 401) {\n        localStorage.removeItem('genfitAuth');\n        window.location.href = '/login';\n      }\n    }\n    setSubmitting(false);\n  };\n\n  const openDeleteConfirm = (entryId) => {\n    setDeleteConfirm({ open: true, entryId });\n  };\n\n  const closeDeleteConfirm = () => {\n    setDeleteConfirm({ open: false, entryId: null });\n  };\n\n  const deleteEntry = async () => {\n    if (!deleteConfirm.entryId) return;\n\n    setSubmitting(true);\n    setError('');\n    setSuccess('');\n\n    try {\n      await deleteProgressEntry(deleteConfirm.entryId);\n      setSuccess('Progress entry deleted successfully!');\n      \n      // Refresh all data\n      await Promise.all([\n        fetchProgressData(),\n        fetchSummary(),\n        fetchTrends()\n      ]);\n    } catch (err) {\n      setError(err.response?.data?.message || 'Failed to delete progress entry.');\n      if (err.response?.status === 401) {\n        localStorage.removeItem('genfitAuth');\n        window.location.href = '/login';\n      }\n    }\n    \n    closeDeleteConfirm();\n    setSubmitting(false);\n  };\n\n  // Clear messages\n  const clearMessages = () => {\n    setError('');\n    setSuccess('');\n  };\n\n  return {\n    // Data\n    progressEntries,\n    summary,\n    trends,\n    workoutVolume,\n    \n    // UI State\n    loading,\n    submitting,\n    error,\n    success,\n    \n    // Form State\n    filters,\n    newEntry,\n    showAddForm,\n    deleteConfirm,\n    \n    // Handlers\n    handleFilterChange,\n    handleDateChange,\n    applyFilters,\n    resetFilters,\n    handleNewEntryChange,\n    handleNewEntryDateChange,\n    toggleAddForm,\n    addProgressEntry,\n    openDeleteConfirm,\n    closeDeleteConfirm,\n    deleteEntry,\n    clearMessages,\n    \n    // Manual refresh functions\n    refreshData: () => {\n      fetchProgressData();\n      fetchSummary();\n      fetchTrends();\n      fetchWorkoutVolume();\n    },\n    refreshProgressData: fetchProgressData,\n    refreshSummary: fetchSummary,\n    refreshTrends: fetchTrends,\n    refreshWorkoutVolume: fetchWorkoutVolume\n  };\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}